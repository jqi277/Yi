<!doctype html>
<html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Selfy AI Mobile</title>
<style>
  :root{--bg:#0b0f14;--panel:#111826;--fg:#e8eef7;--muted:#9fb3c8;--acc:#66a6ff}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  header{padding:16px;border-bottom:1px solid #1f2937;background:linear-gradient(180deg,rgba(102,166,255,.08),transparent)}
  main{padding:16px;max-width:720px;margin:auto}
  .card{background:var(--panel);border:1px solid #1f2937;border-radius:12px;padding:16px;margin:12px 0;box-shadow:0 6px 18px rgba(0,0,0,.25)}
  h1{font-size:20px;margin:0} h2{font-size:18px;margin:8px 0 0}
  p{color:var(--muted)} code{background:#0f172a;padding:2px 6px;border-radius:6px;color:#cbd5e1}
  input[type=file]{width:100%;color:var(--fg)}
  button{padding:10px 14px;border-radius:10px;border:1px solid #1f2937;background:#0f172a;color:var(--fg)}
  button.primary{background:linear-gradient(135deg,#3b82f6,#06b6d4);border:none}
  .row{display:flex;gap:10px;align-items:center}
  pre{white-space:pre-wrap;background:#0f172a;padding:12px;border-radius:10px;overflow:auto}
</style>
</head>
<body>
  <header><h1>Selfy AI Mobile</h1><p style="color:#9fb3c8">快速测试：上传图片→返回 JSON</p></header>
  <main>
    <div class="card">
      <h2>上传图片</h2>
      <p>调用 <code>POST /upload</code></p>
      <div class="row">
        <input id="file" type="file" accept="image/*">
        <button class="primary" onclick="doUpload()">分析</button>
      </div>
    </div>
    <div class="card">
      <h2>返回结果</h2>
      <pre id="out">{ 提交图片后显示结果 }</pre>
    </div>
  </main>
<script>
async function doUpload(){
  const f = document.getElementById('file').files[0];
  if(!f){ alert('请选择图片'); return; }
  const fd = new FormData(); fd.append('file', f);
  const res = await fetch('/upload', { method:'POST', body: fd });
  const txt = await res.text();
  document.getElementById('out').textContent = txt;
}
</script>
</body></html>
